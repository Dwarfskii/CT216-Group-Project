import{N as m}from"./Navigation-uoN0Z8Ab.js";import{c as o,b as s,a as g,t as n,f as h,F as c,r as d,g as u,h as _,i as f,j as y,k as r,l as k,o as a,m as b,e as T}from"./index-yH5mRj2u.js";import{g as N,h as A}from"./index.esm2017-PULwSAig.js";const S=s("head",null,[s("title",null," Home Page"),s("link",{rel:"stylesheet",type:"text/css",href:"software dev test.css"})],-1),x={class:"whiteBox"},v=s("header",{class:"mainSubject"},[s("h1",null,"Spotify")],-1),R={id:"displayName"},j=s("br",null,null,-1),w=s("br",null,null,-1),B={class:"example"},P=s("tr",{class:"example"},[s("th",{class:"example"},[s("h1",null,"Top 5 Artists")]),s("th",{class:"example"},[s("h1",{class:"songs"},"Top 5 Tracks")])],-1),C={class:"example"},F=s("tr",{class:"info"},[s("th",{class:"info"},"Picture"),s("th",{class:"info"},"Name"),s("th",{class:"info"},"Genres")],-1),V={class:"info"},G=["src"],H={class:"info"},D={class:"info"},E=s("tr",{class:"info"},[s("th",{class:"info"},"Album Photo"),s("th",{class:"info"},"Song Name"),s("th",{class:"info"},"Artist")],-1),L={class:"info"},O=["src"],U={class:"info"},Y=["src"],q={class:"info"},z={data(){return{topArtists:[],topTracks:[],profileName:"You have not connected your Spotify account"}},mounted(){u(this),_(this),f(this),this.getRefr()},methods:{async getRefr(){const e=y().currentUser.uid,l=N(T);console.log("Refresh token:"+r),await k(r)&&(console.log("uploading refresh token"),A(l,"addSpotifyRefreshToken")({uid:e,refreshToken:r}),u(this),_(this),f(this))}}},M=Object.assign(z,{__name:"Home",setup(p){return(e,l)=>(a(),o(c,null,[S,s("body",null,[g(m),s("div",x,[v,s("h2",R,n(e.profileName),1),s("button",{type:"button",class:"btn btn-primary, spotify",onClick:l[0]||(l[0]=(...t)=>h&&h(...t))},"Connect Spotify Account")]),j,w,s("div",null,[s("table",B,[P,s("tr",C,[s("td",null,[s("table",null,[F,(a(!0),o(c,null,d(e.topArtists,(t,i)=>(a(),o("tr",{class:"info",key:i},[s("td",V,[s("img",{src:t.images[0].url,class:"centre"},null,8,G)]),s("td",H,n(t.name),1),s("td",D," Genres: "+n(t.genres.join(", ")),1)]))),128))])]),s("td",null,[s("table",null,[E,(a(!0),o(c,null,d(e.topTracks,(t,i)=>(a(),o("tr",{class:"info",key:i},[s("td",L,[s("img",{src:t.album.images[0].url,class:"centre"},null,8,O)]),s("td",U,[b(n(t.name)+" ",1),s("audio",{controls:"",src:t.preview_url,type:"audio/mpeg"},null,8,Y)]),s("td",q,n(t.artists[0].name),1)]))),128))])])])])])])],64))}});export{M as default};
